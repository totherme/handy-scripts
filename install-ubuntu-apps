#!/bin/bash
set -e

sudo add-apt-repository -y ppa:hvr/ghc
sudo apt update
sudo apt -y install "exuberant-ctags" "silversearcher-ag" "ack-grep"
sudo apt -y install "curl"
sudo apt -y install "vim"
sudo apt -y install "emacs24"
sudo apt -y install "software-properties-common"
sudo apt -y install "golang-go"
sudo apt -y install "cabal-install-1.22" "ghc-7.10.3"
sudo apt -y install "build-essential" "ruby" "ruby-dev" "libxml2-dev" \
     "libsqlite3-dev" "libxslt1-dev" "libpq-dev" "libmysqlclient-dev" \
     "zlib1g-dev"
sudo apt -y install "virtualbox"
sudo apt -y install "openjdk-8-jdk" "maven" "gradle"

if [[ ! -f /etc/apt/sources.list.d/fdr.list ]] ; then
   sudo sh -c 'echo "deb http://www.cs.ox.ac.uk/projects/fdr/downloads/debian/ fdr release\n" > /etc/apt/sources.list.d/fdr.list'
   wget -qO - http://www.cs.ox.ac.uk/projects/fdr/downloads/linux_deploy.key | sudo apt-key add -
   sudo apt-get update
   sudo apt-get install fdr
fi

if [[ ! -f /etc/apt/sources.list.d/vbox.list ]] ; then
    sudo sh -c 'echo "deb http://download.virtualbox.org/virtualbox/debian xenial contrib\n" > /etc/apt/sources.list.d/vbox.list'
    wget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add -
    sudo apt update
    sudo apt -y install virtualbox-5.1 dkms
fi

sudo apt -y install vagrant
